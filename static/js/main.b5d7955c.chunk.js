(this["webpackJsonpmagic-bible"]=this["webpackJsonpmagic-bible"]||[]).push([[0],{52:function(e,a,t){e.exports=t(62)},57:function(e,a,t){},62:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(10),l=t.n(c),o=(t(57),t(18)),i=t(33),m=t(38),u=t.n(m),s=(t(58),t(83)),E=t(98),d=t(84),p=t(44),b=t(85),v=t(97),f=t(86),g=t(87),h=t(34),O=t(96),j=t(88),k=t(82),x=t(89),y=t(90),A=t(93),w=t(91),S=t(92),C=t(94),R=t(95),I=t(21),T=t(79),V=t(80),F=t(81),P=Object(E.a)((function(e){var a=Object.assign({},e);return r.a.createElement("div",a)}))({cursor:"pointer",fontSize:"1rem"}),M=Object(E.a)("div")({fontWeight:"bold",textAlign:"center",fontSize:"1rem"}),z=function(e){var a=e.data.passage,t=a.book,n=a.verses;return r.a.createElement(T.a,null,r.a.createElement(V.a,{title:t}),r.a.createElement(F.a,null,n.reduce((function(e,a,t,n){var c=a.content,l=a.number,o=e.accArr;if(l===e.prevVerse){var i=n[t-1].content;return{accArr:[].concat(Object(I.a)(o.slice(0,t-1)),[r.a.createElement(M,{key:i},i),r.a.createElement(P,{key:c},r.a.createElement("sup",null,l)," ",c)]),prevVerse:l}}return{accArr:[].concat(Object(I.a)(o),[r.a.createElement(P,{key:c},r.a.createElement("sup",null,l),r.a.createElement("span",null,c))]),prevVerse:l}}),{accArr:[],prevVerse:-1}).accArr))},B=Object(E.a)(h.a)({fontWeight:"bold"}),N=Object(E.a)(k.a)({flexGrow:1}),W=function(e){var a=e.data.passage.verses;return r.a.createElement(k.a,{container:!0,spacing:2},a.filter((function(e){return null!==e.references})).reduce((function(e,a,t,n){var c=a.content,l=a.number,o=a.references,i=e.accArr;if(l===e.prevVerse){var m=n[t-1],u=m.content,s=m.references;return{accArr:[].concat(Object(I.a)(i.slice(0,t-1)),[r.a.createElement(N,{item:!0},r.a.createElement(T.a,null,r.a.createElement(F.a,null,r.a.createElement(B,null,u),r.a.createElement(h.a,{variant:"caption"},s)))),r.a.createElement(N,{item:!0},r.a.createElement(T.a,null,r.a.createElement(F.a,null,r.a.createElement(h.a,null,l,". ",c),r.a.createElement(h.a,{variant:"caption"},o))))]),prevVerse:l}}return{accArr:[].concat(Object(I.a)(i),[r.a.createElement(N,{item:!0},r.a.createElement(T.a,null,r.a.createElement(F.a,null,r.a.createElement(h.a,null,l,". ",c),r.a.createElement(h.a,{variant:"caption"},o))))]),prevVerse:l}}),{accArr:[],prevVerse:-1}).accArr)},D=function(e){var a=e.data.audioUrl;return r.a.createElement(T.a,null,r.a.createElement(V.a,{title:"Audio"}),r.a.createElement(F.a,null,r.a.createElement("audio",{controls:!0},r.a.createElement("source",{src:a}))))},J=Object(E.a)((function(e){e.src;var a=Object(i.a)(e,["src"]);return r.a.createElement("div",a)}))({height:0,paddingTop:"56.25%",backgroundImage:function(e){var a=e.src;return"url(".concat(a,")")},backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}),U=Object(E.a)(T.a)({marginTop:"12px","&:first-child":{margin:0}}),G=function(e){return e.data.images.map((function(e){return r.a.createElement(U,null,r.a.createElement(J,{src:e}))}))},H=Object(s.a)({iconRoot:{fontSize:"calc((100vh - 56px - 56px) / 4)"}}),L=Object(E.a)("input")({display:"none"}),$=Object(E.a)((function(e){e.isTabbed;var a=Object(i.a)(e,["isTabbed"]);return r.a.createElement("div",a)}))({marginBottom:"56px",padding:"16px"}),_=Object(E.a)("div")({height:"100vh",width:"100vw",backgroundColor:"black",position:"absolute",zIndex:999,display:"flex",alignItems:"center",justifyContent:"center"}),q=Object(E.a)("img")({maxWidth:"100%",maxHeight:"100%"}),K=Object(E.a)(d.a)({position:"fixed",bottom:0,width:"100vw"}),Q=Object(E.a)(p.a)({display:"flex",flexDirection:"column",alignItems:"center"}),X=Object(E.a)("div")({display:"flex",alignItems:"center",justifyContent:"center",height:"calc(100vh - 56px - 56px - 32px)"}),Y=function(){var e=H(),a=r.a.useState(!1),t=Object(o.a)(a,2),n=t[0],c=t[1],l=r.a.useState(!1),i=Object(o.a)(l,2),s=i[0],E=i[1],d=r.a.useState("home"),p=Object(o.a)(d,2),I=p[0],T=p[1],V=r.a.useState("passage"),F=Object(o.a)(V,2),P=F[0],M=F[1],B=r.a.useState(),N=Object(o.a)(B,2),J=N[0],U=N[1],Y=r.a.useState(),Z=Object(o.a)(Y,2),ee=Z[0],ae=Z[1],te=function(e){var a=e||J;fetch("https://magic-bible-api.herokuapp.com/api/v1/image-to-passage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:a})}).then((function(e){return e.json()})).then((function(e){ae(e),T("result"),E(!1)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null),r.a.createElement(v.a,{direction:"left",in:n,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(_,null,r.a.createElement(u.a,{isImageMirror:!1,idealFacingMode:m.FACING_MODES.ENVIRONMENT,onTakePhotoAnimationDone:function(e){U(e),E(!0),c(!1)}}))),r.a.createElement(f.a,{position:"static"},r.a.createElement(g.a,null,r.a.createElement(h.a,{variant:"h6"},"Magic Bible")),"result"===I&&r.a.createElement(O.a,{value:P,onChange:function(e,a){M(a)},variant:"scrollable",scrollButtons:"on"},r.a.createElement(j.a,{label:"Passage",value:"passage"}),r.a.createElement(j.a,{label:"Cross References",value:"crossReferences"}),r.a.createElement(j.a,{label:"Audio",value:"audio"}),r.a.createElement(j.a,{label:"Pictures",value:"picture"}))),r.a.createElement($,{isTabbed:"result"===I},"home"===I?r.a.createElement(X,null,r.a.createElement(k.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3},s?r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{item:!0},r.a.createElement(q,{src:J})),r.a.createElement(k.a,{item:!0},r.a.createElement(x.a,{variant:"contained",color:"primary",onClick:function(){te(J)}},"Send"),r.a.createElement(k.a,{item:!0},r.a.createElement(x.a,{color:"secondary",onClick:function(){E(!1),c(!0)}},"Retake")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{item:!0},r.a.createElement(Q,null,r.a.createElement(y.a,{color:"primary",variant:"contained",onClick:function(){c(!0)}},r.a.createElement(w.a,{classes:{root:e.iconRoot}})),r.a.createElement(h.a,{variant:"button"},"Take Photo"))),r.a.createElement(k.a,{item:!0},r.a.createElement(Q,null,r.a.createElement(y.a,{color:"primary",variant:"contained",component:"label"},r.a.createElement(S.a,{classes:{root:e.iconRoot}}),r.a.createElement(L,{type:"file",onChange:function(e){var a=e.target.files,t=new FileReader;t.onload=function(e){var a=e.target.result;U(a),te(a)},t.readAsDataURL(a[0])}})),r.a.createElement(h.a,{variant:"button"},"Upload Photo")))))):"result"===I?ee?"passage"===P?r.a.createElement(z,{data:ee}):"crossReferences"===P?r.a.createElement(W,{data:ee}):"audio"===P?r.a.createElement(D,{data:ee}):"picture"===P?r.a.createElement(G,{data:ee}):r.a.createElement(r.a.Fragment,null):r.a.createElement(h.a,{varian:"h4"},"Please upload a photo first"):r.a.createElement(r.a.Fragment,null)),r.a.createElement(K,{value:I,onChange:function(e,a){T(a)},showLabels:!0},r.a.createElement(A.a,{label:"Home",value:"home",icon:r.a.createElement(C.a,null)}),r.a.createElement(A.a,{label:"Result",value:"result",icon:r.a.createElement(R.a,null)})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.b5d7955c.chunk.js.map