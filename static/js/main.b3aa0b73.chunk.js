(this["webpackJsonpmagic-bible"]=this["webpackJsonpmagic-bible"]||[]).push([[0],{52:function(e,a,t){e.exports=t(62)},57:function(e,a,t){},62:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(10),l=t.n(c),o=(t(57),t(18)),i=t(32),m=t(37),u=t.n(m),s=(t(58),t(83)),E=t(98),d=t(84),p=t(44),b=t(85),g=t(97),f=t(86),v=t(87),h=t(33),O=t(96),j=t(88),k=t(82),y=t(89),x=t(90),S=t(93),w=t(91),C=t(92),R=t(94),A=t(95),I=t(38),T=t(79),F=t(80),P=t(81),M=Object(E.a)((function(e){var a=Object.assign({},e);return r.a.createElement("div",a)}))({cursor:"pointer",fontSize:"1rem"}),z=Object(E.a)("div")({fontWeight:"bold",textAlign:"center",fontSize:"1rem"}),B=function(e){var a=e.data.passage,t=a.book,n=a.verses;return r.a.createElement(T.a,null,r.a.createElement(F.a,{title:t}),r.a.createElement(P.a,null,n.reduce((function(e,a,t,n){var c=a.content,l=a.number,o=e.accArr;if(l===e.prevVerse){var i=n[t-1].content;return{accArr:[].concat(Object(I.a)(o.slice(0,t-1)),[r.a.createElement(z,{key:i},i),r.a.createElement(M,{key:c},r.a.createElement("sup",null,l)," ",c)]),prevVerse:l}}return{accArr:[].concat(Object(I.a)(o),[r.a.createElement(M,{key:c},r.a.createElement("sup",null,l),r.a.createElement("span",null,c))]),prevVerse:l}}),{accArr:[],prevVerse:-1}).accArr))},N=function(e){var a=e.data.passage,t=(a.book,a.verses);return r.a.createElement(k.a,{container:!0,spacing:2},t.filter((function(e){return null!==e.references})).map((function(e){var a=e.content,t=e.number,n=e.references;return r.a.createElement(k.a,{item:!0},r.a.createElement(T.a,null,r.a.createElement(P.a,null,r.a.createElement(h.a,null,t,". ",a),r.a.createElement(h.a,{variant:"caption"},n))))})))},V=function(e){var a=e.data.audioUrl;return r.a.createElement(T.a,null,r.a.createElement(F.a,{title:"Audio"}),r.a.createElement(P.a,null,r.a.createElement("audio",{controls:!0},r.a.createElement("source",{src:a}))))},D=Object(E.a)((function(e){e.src;var a=Object(i.a)(e,["src"]);return r.a.createElement("div",a)}))({height:0,paddingTop:"56.25%",backgroundImage:function(e){var a=e.src;return"url(".concat(a,")")},backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}),W=Object(E.a)(T.a)({marginTop:"12px","&:first-child":{margin:0}}),J=function(e){return e.data.images.map((function(e){return r.a.createElement(W,null,r.a.createElement(D,{src:e}))}))},U=Object(s.a)({iconRoot:{fontSize:"calc((100vh - 56px - 56px) / 4)"}}),H=Object(E.a)("input")({display:"none"}),L=Object(E.a)((function(e){e.isTabbed;var a=Object(i.a)(e,["isTabbed"]);return r.a.createElement("div",a)}))({marginBottom:"56px",padding:"16px"}),G=Object(E.a)("div")({height:"100vh",width:"100vw",backgroundColor:"black",position:"absolute",zIndex:999,display:"flex",alignItems:"center",justifyContent:"center"}),$=Object(E.a)("img")({maxWidth:"100%",maxHeight:"100%"}),_=Object(E.a)(d.a)({position:"fixed",bottom:0,width:"100vw"}),q=Object(E.a)(p.a)({display:"flex",flexDirection:"column",alignItems:"center"}),K=Object(E.a)("div")({display:"flex",alignItems:"center",justifyContent:"center",height:"calc(100vh - 56px - 56px - 32px)"}),Q=function(){var e=U(),a=r.a.useState(!1),t=Object(o.a)(a,2),n=t[0],c=t[1],l=r.a.useState(!1),i=Object(o.a)(l,2),s=i[0],E=i[1],d=r.a.useState("home"),p=Object(o.a)(d,2),I=p[0],T=p[1],F=r.a.useState("passage"),P=Object(o.a)(F,2),M=P[0],z=P[1],D=r.a.useState(),W=Object(o.a)(D,2),Q=W[0],X=W[1],Y=r.a.useState(),Z=Object(o.a)(Y,2),ee=Z[0],ae=Z[1],te=function(e){var a=e||Q;fetch("https://magic-bible-api.herokuapp.com/api/v1/image-to-passage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:a})}).then((function(e){return e.json()})).then((function(e){ae(e),T("result"),E(!1)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null),r.a.createElement(g.a,{direction:"left",in:n,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(G,null,r.a.createElement(u.a,{isImageMirror:!1,idealFacingMode:m.FACING_MODES.ENVIRONMENT,onTakePhotoAnimationDone:function(e){X(e),E(!0),c(!1)}}))),r.a.createElement(f.a,{position:"static"},r.a.createElement(v.a,null,r.a.createElement(h.a,{variant:"h6"},"Magic Bible")),"result"===I&&r.a.createElement(O.a,{value:M,onChange:function(e,a){z(a)},variant:"scrollable",scrollButtons:"on"},r.a.createElement(j.a,{label:"Passage",value:"passage"}),r.a.createElement(j.a,{label:"Cross References",value:"crossReferences"}),r.a.createElement(j.a,{label:"Audio",value:"audio"}),r.a.createElement(j.a,{label:"Pictures",value:"picture"}))),r.a.createElement(L,{isTabbed:"result"===I},"home"===I?r.a.createElement(K,null,r.a.createElement(k.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3},s?r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{item:!0},r.a.createElement($,{src:Q})),r.a.createElement(k.a,{item:!0},r.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){te(Q)}},"Send"),r.a.createElement(k.a,{item:!0},r.a.createElement(y.a,{color:"secondary",onClick:function(){E(!1),c(!0)}},"Retake")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{item:!0},r.a.createElement(q,null,r.a.createElement(x.a,{color:"primary",variant:"contained",onClick:function(){c(!0)}},r.a.createElement(w.a,{classes:{root:e.iconRoot}})),r.a.createElement(h.a,{variant:"button"},"Take Photo"))),r.a.createElement(k.a,{item:!0},r.a.createElement(q,null,r.a.createElement(x.a,{color:"primary",variant:"contained",component:"label"},r.a.createElement(C.a,{classes:{root:e.iconRoot}}),r.a.createElement(H,{type:"file",onChange:function(e){var a=e.target.files,t=new FileReader;t.onload=function(e){var a=e.target.result;X(a),te(a)},t.readAsDataURL(a[0])}})),r.a.createElement(h.a,{variant:"button"},"Upload Photo")))))):"result"===I?ee?"passage"===M?r.a.createElement(B,{data:ee}):"crossReferences"===M?r.a.createElement(N,{data:ee}):"audio"===M?r.a.createElement(V,{data:ee}):"picture"===M?r.a.createElement(J,{data:ee}):r.a.createElement(r.a.Fragment,null):r.a.createElement(h.a,{varian:"h4"},"Please upload a photo first"):r.a.createElement(r.a.Fragment,null)),r.a.createElement(_,{value:I,onChange:function(e,a){T(a)},showLabels:!0},r.a.createElement(S.a,{label:"Home",value:"home",icon:r.a.createElement(R.a,null)}),r.a.createElement(S.a,{label:"Result",value:"result",icon:r.a.createElement(A.a,null)})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.b3aa0b73.chunk.js.map